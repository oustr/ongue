(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(2262)}])},2262:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return C}});var n=s(5893);let t=e=>(0,n.jsx)("div",{...e,className:"flex box "+e.className}),r=e=>(0,n.jsx)("button",{...e,className:"button "+e.className}),l=e=>{let{children:a}=e;return(0,n.jsx)("input",{...e,className:"input "+e.className,type:"text",spellCheck:!1})};var c=s(1219),i=s.n(c);let o=e=>{let{isSelected:a,word:s,definition:t,pronunciation:r,onContextMenu:l,example:c,group:o,toggleGroupFilter:d}=e;return(0,n.jsxs)("div",{className:i().entry+" "+(a?i().selected:""),onContextMenu:l,children:[(0,n.jsxs)("div",{className:i().main,children:[(0,n.jsx)("span",{className:"bold",id:s,children:s}),o&&(0,n.jsx)("span",{className:i().nabla,onClick:d,children:"▼"}),(0,n.jsx)("span",{children:" "}),(0,n.jsx)("span",{className:"c-99",children:t}),(0,n.jsx)("span",{className:c?"":"no-select",children:" "}),(0,n.jsx)("span",{className:"c-66 no-select size-12",children:r})]}),c&&(0,n.jsx)("div",{className:i().example,children:c})]})};var d=s(6307),u=s.n(d);let h=e=>{let{data:a,pos:s,font:r}=e,[l,c]=s,i={};return l>window.innerWidth/2?i.right=window.innerWidth-l:i.left=l,c>window.innerHeight/2?i.bottom=window.innerHeight-c:i.top=c,(0,n.jsx)(t,{style:i,className:"fixed col bgc-20 pad "+("play"===r?"font-play":""),children:a.map(e=>(0,n.jsx)("div",{className:"pad-l pad-r c-99 bor-rad "+u().choice,onClick:e.onClick,children:e.text},e.text))})};var p=s(8536),x=s.n(p);let m=e=>{let{children:a,shade:s,blur:t,screen:r,onClick:l}=e;return(0,n.jsxs)("div",{className:t?x().blur:"",style:{overflowX:"hidden"},children:[a,r&&(0,n.jsx)("div",{className:x().screen,onClick:l}),s&&(0,n.jsx)("div",{className:x().shade,onClick:l})]})};var j=s(7294);let N=e=>{let{top:a}=e;return(0,n.jsx)(t,{className:"w-all h-all fixed l0 t0 jc-cen "+(a?"":"ai-cen")+" "+e.className,style:{paddingTop:a+"%"},...e})},f=e=>{let{children:a}=e;return(0,n.jsx)("textarea",{...e,className:"textarea "+e.className,spellCheck:!1})},y=e=>{let{type:a,data:s,font:c}=e,i="play"===c?"font-play ":"",d=(e,a,s)=>(0,n.jsx)(N,{top:10,children:(0,n.jsxs)(t,{className:"col bgc-20 pad-20 h-fit",onMouseDown:e=>e.stopPropagation(),children:[e,(0,n.jsx)("div",{className:"pad"}),(0,n.jsxs)(t,{className:"mar-t "+(a?"jc-end":"jc-cen"),children:[!!a&&(0,n.jsx)(r,{className:"-noir bor-rad "+i,onClick:a,children:"sognır"}),(0,n.jsx)(r,{className:"bor-rad "+(a?"-grey mar-l ":"-noir ")+i,onClick:s,children:"uın"})]})]})});if(["edit","insertAhead","insertBehind"].indexOf(a)>=0){let{flexIndex:e,id:a,onCancel:r,onOK:c}=s,[o,u]=(0,j.useState)(s.word),[h,p]=(0,j.useState)(s.definition),[x,m]=(0,j.useState)(s.pronunciation),[N,y]=(0,j.useState)(s.example),[g,b]=(0,j.useState)(s.group),w=(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(t,{className:i,children:[(0,n.jsxs)(t,{className:"col mar-r",children:[(0,n.jsxs)(t,{className:"mar-b ai-base",children:[(0,n.jsx)("span",{className:"w-5 c-99",children:"nuo"}),(0,n.jsx)(l,{autoFocus:!0,className:"-noir bor-rad w-16 "+i,value:o,onChange:e=>u(e.target.value)})]}),(0,n.jsxs)(t,{className:"mar-b ai-base",children:[(0,n.jsx)("span",{className:"w-5 c-99",children:"ıozgo"}),(0,n.jsx)(l,{className:"-noir bor-rad w-16 "+i,value:x,onChange:e=>m(e.target.value)})]}),(0,n.jsxs)(t,{className:"mar-b ai-base",children:[(0,n.jsx)("span",{className:"w-5 c-99",children:"ınzon"}),(0,n.jsx)(f,{className:"-noir bor-rad w-16 h-8 "+i,value:h,onChange:e=>p(e.target.value)})]}),(0,n.jsxs)(t,{className:"mar-b ai-base",children:[(0,n.jsx)("span",{className:"w-5 c-99",children:"soro"}),(0,n.jsx)(l,{className:"-noir bor-rad w-16 "+i,value:g,onChange:e=>b(e.target.value)})]})]}),(0,n.jsx)(t,{className:"col",children:(0,n.jsxs)(t,{className:"ai-base",children:[(0,n.jsx)("span",{className:"w-6 c-99",children:"oust"}),(0,n.jsx)(f,{className:"-noir bor-rad w-24 h-18 "+i,value:N,onChange:e=>y(e.target.value)})]})})]})});return d(w,r,()=>c(e,a,o,h,x,N,g))}if("delete"===a){let{onCancel:e,onOK:a,entry:r}=s,l=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t,{className:"mar-b jc-cen "+i,children:"zuxur?"}),(0,n.jsx)(t,{className:"w-24 jc-cen "+i,children:(0,n.jsx)(o,{isSelected:!0,word:r[2],definition:r[3],pronunciation:r[4],example:r[5],group:""})})]});return d(l,e,()=>a())}if("alert"===a){let{text:e,onOK:a}=s,t=(0,n.jsx)("div",{className:"w-20 tx-c "+i,children:e});return d(t,void 0,()=>a())}},g=e=>{let{setFilter:a,font:s}=e,[c,i]=(0,j.useState)(!1),[o,d]=(0,j.useState)(!1),[u,h]=(0,j.useState)(!1),[p,x]=(0,j.useState)(!1),[m,N]=(0,j.useState)(!1),[f,y]=(0,j.useState)(!1),[g,b]=(0,j.useState)(""),w=(e,a)=>{a(!e)},v="play"===s?"font-play ":"";return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t,{children:[(0,n.jsx)(r,{className:"-dark- bor-rad mar-r "+v+(c?"selected":""),onMouseDown:e=>{e.preventDefault(),w(c,i)},children:"nuo"}),(0,n.jsx)(r,{className:"-dark- bor-rad mar-r "+v+(o?"selected":""),onMouseDown:e=>{e.preventDefault(),w(o,d)},children:"ıozgo"}),(0,n.jsx)(r,{className:"-dark- bor-rad mar-r "+v+(u?"selected":""),onMouseDown:e=>{e.preventDefault(),w(u,h)},children:"ınzon"}),(0,n.jsx)(r,{className:"-dark- bor-rad mar-r "+v+(p?"selected":""),onMouseDown:e=>{e.preventDefault(),w(p,x)},children:"oust"}),(0,n.jsx)(r,{className:"-dark- bor-rad mar-r "+v+(m?"selected":""),onMouseDown:e=>{e.preventDefault(),w(m,N)},children:">.."}),(0,n.jsx)(r,{className:"-dark- bor-rad mar-r "+v+(f?"selected":""),onMouseDown:e=>{e.preventDefault(),w(f,y)},children:"..<"})]}),(0,n.jsxs)(t,{children:[(0,n.jsx)(r,{className:"-dark bor-rad mar-r "+v,onMouseDown:e=>{e.preventDefault(),i(!1),d(!1),h(!1),x(!1),N(!1),y(!1),b(""),a({types:[],text:""})},children:"ungzur"}),(0,n.jsx)(l,{className:"-dark bor-rad mar-r w-20 "+v,value:g,onChange:e=>b(e.target.value)}),(0,n.jsx)(r,{className:"-dark bor-rad mar-r "+v,onMouseDown:e=>{e.preventDefault(),navigator.clipboard.writeText(g)},children:"xour"}),(0,n.jsx)(r,{className:"-dark bor-rad "+v,onMouseDown:e=>{e.preventDefault();let s=[];c&&s.push("word"),o&&s.push("pronunciation"),u&&s.push("definition"),p&&s.push("example"),a({types:s,text:g,isStart:m,isEnd:f})},children:"zosgur"})]})]})};var b=s(9583),w=s.n(b);let v=e=>(0,n.jsx)("div",{className:w().column,children:e.children}),k=e=>{(0,j.useEffect)(()=>{window.addEventListener("keydown",e=>{let a=document.activeElement.tagName;if(["INPUT","TEXTAREA"].indexOf(a)>=0&&["i","j","`",'"',"{"].indexOf(e.key)>=0){e.preventDefault();let a={i:"ı",j:"ӡ","`":"\xb7",'"':"“”","{":"｢｣"}[e.key],s=document.activeElement,n=s.value,t=s.selectionStart;s.value=n.substring(0,s.selectionStart)+a+n.substring(s.selectionEnd),s.setSelectionRange(t+1,t+1)}})},[]);let[a,s]=(0,j.useState)([]),[l,c]=(0,j.useState)({display:!1,data:[],pos:[0,0]}),[i,d]=(0,j.useState)({screen:!1,shade:!1,blur:!1,onClick:()=>{}}),[u,p]=(0,j.useState)({display:!1,type:"",data:{}}),[x,N]=(0,j.useState)({types:[],text:""}),f={word:2,definition:3,pronunciation:4,example:5},b=e=>e.replaceAll("ӡ","J").toUpperCase(),w=[];0===x.types.length||""===x.text?w=a:a.forEach(e=>{let a={type:e.type,data:[]};e.data.forEach(e=>{let s=!1;"group"===x.types[0]?b(e[6])===b(x.text)&&(s=!0):x.types.forEach(a=>{let n=b(x.text);if("pronunciation"===a){let a=b(e[f.pronunciation]).split(" ");a.forEach(e=>{x.isStart&&x.isEnd?e===n&&(s=!0):x.isStart?e.startsWith(n)&&(s=!0):x.isEnd?e.endsWith(n)&&(s=!0):-1!==e.indexOf(n)&&(s=!0)})}else x.isStart&&x.isEnd?b(e[f[a]])===n&&(s=!0):x.isStart?b(e[f[a]]).startsWith(n)&&(s=!0):x.isEnd?b(e[f[a]]).endsWith(n)&&(s=!0):-1!==b(e[f[a]]).indexOf(n)&&(s=!0)}),s&&a.data.push(e)}),w.push(a)});let k=e=>{1===x.types.length&&"group"===x.types[0]&&x.text===e?N({types:[],text:""}):N({types:["group"],text:e})},[C,_]=(0,j.useState)(""),S="play"===C?"font-play ":"",E=(e,t,r)=>{e.preventDefault();let[o]=r,h=O(t,o);M(()=>{z(t,o),l.display=!1,c({...l})}),l.display=!0,l.pos=[e.clientX,e.clientY],l.data=[],l.data.push({icon:(0,n.jsx)(n.Fragment,{}),text:"cosur",onClick:()=>D("edit",t,r)}),h&&l.data.push({icon:(0,n.jsx)(n.Fragment,{}),text:"urso ıngur",onClick:()=>D("insertAhead",t,r)}),l.data.push({icon:(0,n.jsx)(n.Fragment,{}),text:"onso ıngur",onClick:()=>D("insertBehind",t,r)}),l.data.push({icon:(0,n.jsx)(n.Fragment,{}),text:"zuxur",onClick:()=>{i.screen=!1,i.shade=!0,i.blur=!0;let e=i.onClick;i.onClick=()=>{e(),u.display=!1,p({...u})},u.display=!0,u.type="delete",u.data={entry:r,onCancel:()=>{i.onClick()},onOK:()=>{let e=[];a[t].data.forEach((a,s)=>{a[0]!==o&&e.push(a)}),a[t].data=e,s([...a]),i.onClick()}},d({...i}),l.display=!1,c({...l}),p({...u})}}),c({...l})},D=(e,n,t)=>{let[r,o,h,x,m,j,N]=t;i.screen=!1,i.shade=!0,i.blur=!0;let f=i.onClick;i.onClick=()=>{f(),u.display=!1,p({...u})},u.display=!0,u.type=e;let y="edit"===e;u.data={flexIndex:n,id:r,word:y?h:"",definition:y?x:"",pronunciation:y?m:"",example:y?j:"",group:y?N:"",onCancel:()=>{i.onClick()},onOK:void 0},"edit"===e?u.data.onOK=(e,n,t,r,l,c,o)=>{a[e].data.forEach((e,a)=>{e[0]===n&&(e[2]=t,e[3]=r,e[4]=l,e[5]=c,e[6]=o)}),s([...a]),i.onClick()}:["insertAhead","insertBehind"].indexOf(e)>=0&&(u.data.onOK=(n,t,r,l,c,o,d)=>{let u=[];a[n].data.forEach((a,s)=>{"insertBehind"===e&&u.push(a),a[0]===t&&u.push([Date.now(),!1,r,l,c,o,d]),"insertAhead"===e&&u.push(a)}),a[n].data=u,s([...a]),i.onClick()}),d({...i}),l.display=!1,c({...l}),p({...u})},O=(e,n)=>{let t=!1;return a[e].data.forEach((e,a)=>{e[0]===n&&(e[1]=!0,0===a&&(t=!0))}),s([...a]),t},z=(e,n)=>{a[e].data.forEach(e=>{e[0]===n&&(e[1]=!1)}),s([...a])},M=e=>{i.screen=!0,i.onClick=()=>{F(e)},d({...i})},F=e=>{e&&e(),i.screen=!1,i.blur=!1,i.shade=!1,d({...i})},T=e=>{i.screen=!1,i.shade=!0,i.blur=!0,i.onClick=()=>{u.display=!1,p({...u}),F()},u.display=!0,u.type="alert",u.data={text:e,onOK:()=>{i.onClick()}},d({...i}),p({...u})},A=async e=>{try{return await fetch("http://localhost:2048/ongue",{method:"post",body:JSON.stringify({type:"save",data:e}),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(()=>{T("suzr")})}catch(e){console.log(e);return}},B=async()=>{try{return await fetch("http://localhost:2048/ongue",{method:"post",body:JSON.stringify({type:"get"}),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e.data)}catch(e){console.log(e);return}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(m,{shade:i.shade,blur:i.blur,screen:i.screen,onClick:i.onClick,children:[(0,n.jsxs)(t,{className:"w-all jc-bet ai-cen pad-t pad-b bgc-28 h-4 "+S,children:[(0,n.jsxs)(t,{className:"mar-l ai-cen",children:[(0,n.jsx)(r,{className:"-dark bor-rad mar-r "+S,onClick:()=>{""===C?_("play"):_("")},children:"xunt"}),(0,n.jsx)("div",{children:"zonur uc"})]}),(0,n.jsx)(g,{setFilter:N,font:C}),(0,n.jsxs)(t,{className:"mar-r",children:[(0,n.jsx)(r,{className:"-dark bor-rad mar-r "+S,onClick:async()=>{0===a.length?(s(await B()),T("suzr")):T("nug, uzr nıgır su")},children:"uzr nıgır"}),(0,n.jsx)(r,{className:"-grey bor-rad "+S,onClick:()=>A(a),children:"suovur"})]})]}),(0,n.jsx)(t,{className:"w-all jc-cen pad-t "+S,style:{height:"calc(100vh - 40px)",overflow:"auto",overflowX:"hidden"},children:w.map((e,a)=>(0,n.jsx)(v,{children:e.data.map(e=>(0,n.jsx)(o,{isSelected:e[1],word:e[2],definition:e[3],pronunciation:e[4],example:e[5],group:e[6],onContextMenu:s=>E(s,a,e),toggleGroupFilter:()=>k(e[6])},e[0]))},a))})]}),l.display&&(0,n.jsx)(h,{data:l.data,pos:l.pos,font:C}),u.display&&(0,n.jsx)(y,{type:u.type,data:u.data,font:C})]})};var C=k},6307:function(e){e.exports={choice:"Over_choice__LdsIL"}},8536:function(e){e.exports={shade:"Shade_shade__mpV7f",screen:"Shade_screen__IGBY9",blur:"Shade_blur__5Rufy"}},9583:function(e){e.exports={column:"Column_column__m5Pgu"}},1219:function(e){e.exports={entry:"Entry_entry__rnttx",selected:"Entry_selected__Kj3t6",main:"Entry_main__ojIqe",nabla:"Entry_nabla__RZVTB",example:"Entry_example__wneG7"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);