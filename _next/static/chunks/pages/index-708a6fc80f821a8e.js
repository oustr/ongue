(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(7947)}])},7947:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return w}});var t=s(5893);let n=e=>(0,t.jsx)("div",{...e,className:"flex box "+e.className}),r=e=>(0,t.jsx)("button",{...e,className:"button "+e.className}),l=e=>{let{children:a}=e;return(0,t.jsx)("input",{...e,className:"input "+e.className,type:"text",spellCheck:!1})};var i=s(1219),c=s.n(i);let o=e=>{let{isSelected:a,word:s,definition:r,pronunciation:l,onContextMenu:i,example:o,group:d,toggleGroupFilter:u}=e;return(0,t.jsxs)(n,{className:"col w-fit pad-r "+(a?"bgc-33 bor-rad":""),onContextMenu:i,children:[(0,t.jsxs)("div",{style:{textIndent:-32,paddingLeft:40},children:[(0,t.jsx)("span",{className:"bold",id:s,children:s}),""!==d&&(0,t.jsx)("span",{className:"no-select size-12 "+c().nabla,onClick:u,children:"▼"}),(0,t.jsx)("span",{children:" "}),(0,t.jsx)("span",{className:"c-99",children:r}),(0,t.jsx)("span",{className:""===o?"no-select":"",children:" "}),(0,t.jsx)("span",{className:"c-66 no-select size-12",children:l})]}),""!==o&&(0,t.jsx)(n,{className:"tx-normal c-99 size-14 bor-2 w-fit pad-l pad-r",style:{border:"#444444 2px solid",marginLeft:40},children:o})]})};var d=s(6307),u=s.n(d);let h=e=>{let{data:a,pos:s,font:r}=e,[l,i]=s,c={};return l>window.innerWidth/2?c.right=window.innerWidth-l:c.left=l,i>window.innerHeight/2?c.bottom=window.innerHeight-i:c.top=i,(0,t.jsx)(n,{style:c,className:"fixed col bgc-20 pad "+("play"===r?"font-play":""),children:a.map(e=>(0,t.jsx)("div",{className:"pad-l pad-r c-99 bor-rad "+u().choice,onClick:e.onClick,children:e.text},e.text))})};var p=s(8536),x=s.n(p);let m=e=>{let{children:a,shade:s,blur:n,screen:r,onClick:l}=e;return(0,t.jsxs)("div",{className:n?x().blur:"",style:{overflowX:"hidden"},children:[a,r&&(0,t.jsx)("div",{className:x().screen,onClick:l}),s&&(0,t.jsx)("div",{className:x().shade,onClick:l})]})};var j=s(7294);let f=e=>{let{top:a}=e;return(0,t.jsx)(n,{className:"w-all h-all fixed l0 t0 jc-cen "+(a?"":"ai-cen")+" "+e.className,style:{paddingTop:a+"%"},...e})},N=e=>{let{children:a}=e;return(0,t.jsx)("textarea",{...e,className:"textarea "+e.className,spellCheck:!1})},g=e=>{let{type:a,data:s,font:i}=e,c="play"===i?"font-play ":"",d=(e,a,s)=>(0,t.jsx)(f,{top:10,children:(0,t.jsxs)(n,{className:"col bgc-20 pad-20 h-fit",onMouseDown:e=>e.stopPropagation(),children:[e,(0,t.jsx)("div",{className:"pad"}),(0,t.jsxs)(n,{className:"mar-t "+(a?"jc-end":"jc-cen"),children:[!!a&&(0,t.jsx)(r,{className:"-noir bor-rad "+c,onClick:a,children:"sognır"}),(0,t.jsx)(r,{className:"bor-rad "+(a?"-grey mar-l ":"-noir ")+c,onClick:s,children:"uın"})]})]})});if(["edit","insertAhead","insertBehind"].indexOf(a)>=0){let{flexIndex:e,id:a,onCancel:r,onOK:i}=s,[o,u]=(0,j.useState)(s.word),[h,p]=(0,j.useState)(s.definition),[x,m]=(0,j.useState)(s.pronunciation),[f,g]=(0,j.useState)(s.example),[y,b]=(0,j.useState)(s.group),w=(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(n,{className:c,children:[(0,t.jsxs)(n,{className:"col mar-r",children:[(0,t.jsxs)(n,{className:"mar-b ai-base",children:[(0,t.jsx)("span",{className:"w-5 c-99",children:"nuo"}),(0,t.jsx)(l,{autoFocus:!0,className:"-noir bor-rad w-16 "+c,value:o,onChange:e=>u(e.target.value)})]}),(0,t.jsxs)(n,{className:"mar-b ai-base",children:[(0,t.jsx)("span",{className:"w-5 c-99",children:"ıozgo"}),(0,t.jsx)(l,{className:"-noir bor-rad w-16 "+c,value:x,onChange:e=>m(e.target.value)})]}),(0,t.jsxs)(n,{className:"mar-b ai-base",children:[(0,t.jsx)("span",{className:"w-5 c-99",children:"ınzon"}),(0,t.jsx)(N,{className:"-noir bor-rad w-16 h-8 "+c,value:h,onChange:e=>p(e.target.value)})]}),(0,t.jsxs)(n,{className:"mar-b ai-base",children:[(0,t.jsx)("span",{className:"w-5 c-99",children:"soro"}),(0,t.jsx)(l,{className:"-noir bor-rad w-16 "+c,value:y,onChange:e=>b(e.target.value)})]})]}),(0,t.jsx)(n,{className:"col",children:(0,t.jsxs)(n,{className:"ai-base",children:[(0,t.jsx)("span",{className:"w-6 c-99",children:"outh"}),(0,t.jsx)(N,{className:"-noir bor-rad w-24 h-18 "+c,value:f,onChange:e=>g(e.target.value)})]})})]})});return d(w,r,()=>i(e,a,o,h,x,f,y))}if("delete"===a){let{onCancel:e,onOK:a,entry:r}=s,l=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n,{className:"mar-b jc-cen "+c,children:"zuxur?"}),(0,t.jsx)(n,{className:"w-24 jc-cen "+c,children:(0,t.jsx)(o,{isSelected:!0,word:r[2],definition:r[3],pronunciation:r[4],example:r[5],group:""})})]});return d(l,e,()=>a())}if("alert"===a){let{text:e,onOK:a}=s,n=(0,t.jsx)("div",{className:"w-20 tx-c "+c,children:e});return d(n,void 0,()=>a())}},y=e=>{let{setFilter:a,font:s}=e,[i,c]=(0,j.useState)(!1),[o,d]=(0,j.useState)(!1),[u,h]=(0,j.useState)(!1),[p,x]=(0,j.useState)(!1),[m,f]=(0,j.useState)(!1),[N,g]=(0,j.useState)(!1),[y,b]=(0,j.useState)(""),w=(e,a)=>{a(!e)},v="play"===s?"font-play ":"";return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n,{children:[(0,t.jsx)(r,{className:"-dark- bor-rad mar-r "+v+(i?"selected":""),onMouseDown:e=>{e.preventDefault(),w(i,c)},children:"nuo"}),(0,t.jsx)(r,{className:"-dark- bor-rad mar-r "+v+(o?"selected":""),onMouseDown:e=>{e.preventDefault(),w(o,d)},children:"ıozgo"}),(0,t.jsx)(r,{className:"-dark- bor-rad mar-r "+v+(u?"selected":""),onMouseDown:e=>{e.preventDefault(),w(u,h)},children:"ınzon"}),(0,t.jsx)(r,{className:"-dark- bor-rad mar-r "+v+(p?"selected":""),onMouseDown:e=>{e.preventDefault(),w(p,x)},children:"outh"}),(0,t.jsx)(r,{className:"-dark- bor-rad mar-r "+v+(m?"selected":""),onMouseDown:e=>{e.preventDefault(),w(m,f)},children:">.."}),(0,t.jsx)(r,{className:"-dark- bor-rad mar-r "+v+(N?"selected":""),onMouseDown:e=>{e.preventDefault(),w(N,g)},children:"..<"})]}),(0,t.jsxs)(n,{children:[(0,t.jsx)(r,{className:"-dark bor-rad mar-r "+v,onMouseDown:e=>{e.preventDefault(),c(!1),d(!1),h(!1),x(!1),f(!1),g(!1),b(""),a({types:[],text:""})},children:"ungzur"}),(0,t.jsx)(l,{className:"-dark bor-rad mar-r w-20 "+v,value:y,onChange:e=>b(e.target.value)}),(0,t.jsx)(r,{className:"-dark bor-rad mar-r "+v,onMouseDown:e=>{e.preventDefault(),navigator.clipboard.writeText(y)},children:"xour"}),(0,t.jsx)(r,{className:"-dark bor-rad "+v,onMouseDown:e=>{e.preventDefault();let s=[];i&&s.push("word"),o&&s.push("pronunciation"),u&&s.push("definition"),p&&s.push("example"),a({types:s,text:y,isStart:m,isEnd:N})},children:"zosgur"})]})]})},b=e=>{(0,j.useEffect)(()=>{window.addEventListener("keydown",e=>{let a=document.activeElement.tagName;if(["INPUT","TEXTAREA"].indexOf(a)>=0&&["i","j","`",'"',"{"].indexOf(e.key)>=0){e.preventDefault();let a={i:"ı",j:"ӡ","`":"\xb7",'"':"“”","{":"｢｣"}[e.key],s=document.activeElement,t=s.value,n=s.selectionStart;s.value=t.substring(0,s.selectionStart)+a+t.substring(s.selectionEnd),s.setSelectionRange(n+1,n+1)}})},[]);let[a,s]=(0,j.useState)([]),[l,i]=(0,j.useState)({display:!1,data:[],pos:[0,0]}),[c,d]=(0,j.useState)({screen:!1,shade:!1,blur:!1,onClick:()=>{}}),[u,p]=(0,j.useState)({display:!1,type:"",data:{}}),[x,f]=(0,j.useState)({types:[],text:""}),N={word:2,definition:3,pronunciation:4,example:5},b=e=>e.replaceAll("ӡ","J").toUpperCase(),w=[];0===x.types.length||""===x.text?w=a:a.forEach(e=>{let a={type:e.type,data:[]};e.data.forEach(e=>{let s=!1;"group"===x.types[0]?b(e[6])===b(x.text)&&(s=!0):x.types.forEach(a=>{let t=b(x.text);if("pronunciation"===a){let a=b(e[N.pronunciation]).split(" ");a.forEach(e=>{x.isStart&&x.isEnd?e===t&&(s=!0):x.isStart?e.startsWith(t)&&(s=!0):x.isEnd?e.endsWith(t)&&(s=!0):-1!==e.indexOf(t)&&(s=!0)})}else x.isStart&&x.isEnd?b(e[N[a]])===t&&(s=!0):x.isStart?b(e[N[a]]).startsWith(t)&&(s=!0):x.isEnd?b(e[N[a]]).endsWith(t)&&(s=!0):-1!==b(e[N[a]]).indexOf(t)&&(s=!0)}),s&&a.data.push(e)}),w.push(a)});let v=e=>{1===x.types.length&&"group"===x.types[0]&&x.text===e?f({types:[],text:""}):f({types:["group"],text:e})},[k,C]=(0,j.useState)(""),S="play"===k?"font-play ":"",_=(e,n,r)=>{e.preventDefault();let[o]=r,h=D(n,o);z(()=>{O(n,o),l.display=!1,i({...l})}),l.display=!0,l.pos=[e.clientX,e.clientY],l.data=[],l.data.push({icon:(0,t.jsx)(t.Fragment,{}),text:"cosur",onClick:()=>E("edit",n,r)}),h&&l.data.push({icon:(0,t.jsx)(t.Fragment,{}),text:"urso ıngur",onClick:()=>E("insertAhead",n,r)}),l.data.push({icon:(0,t.jsx)(t.Fragment,{}),text:"onso ıngur",onClick:()=>E("insertBehind",n,r)}),l.data.push({icon:(0,t.jsx)(t.Fragment,{}),text:"zuxur",onClick:()=>{c.screen=!1,c.shade=!0,c.blur=!0;let e=c.onClick;c.onClick=()=>{e(),u.display=!1,p({...u})},u.display=!0,u.type="delete",u.data={entry:r,onCancel:()=>{c.onClick()},onOK:()=>{let e=[];a[n].data.forEach((a,s)=>{a[0]!==o&&e.push(a)}),a[n].data=e,s([...a]),c.onClick()}},d({...c}),l.display=!1,i({...l}),p({...u})}}),i({...l})},E=(e,t,n)=>{let[r,o,h,x,m,j,f]=n;c.screen=!1,c.shade=!0,c.blur=!0;let N=c.onClick;c.onClick=()=>{N(),u.display=!1,p({...u})},u.display=!0,u.type=e;let g="edit"===e;u.data={flexIndex:t,id:r,word:g?h:"",definition:g?x:"",pronunciation:g?m:"",example:g?j:"",group:g?f:"",onCancel:()=>{c.onClick()},onOK:void 0},"edit"===e?u.data.onOK=(e,t,n,r,l,i,o)=>{a[e].data.forEach((e,a)=>{e[0]===t&&(e[2]=n,e[3]=r,e[4]=l,e[5]=i,e[6]=o)}),s([...a]),c.onClick()}:["insertAhead","insertBehind"].indexOf(e)>=0&&(u.data.onOK=(t,n,r,l,i,o,d)=>{let u=[];a[t].data.forEach((a,s)=>{"insertBehind"===e&&u.push(a),a[0]===n&&u.push([Date.now(),!1,r,l,i,o,d]),"insertAhead"===e&&u.push(a)}),a[t].data=u,s([...a]),c.onClick()}),d({...c}),l.display=!1,i({...l}),p({...u})},D=(e,t)=>{let n=!1;return a[e].data.forEach((e,a)=>{e[0]===t&&(e[1]=!0,0===a&&(n=!0))}),s([...a]),n},O=(e,t)=>{a[e].data.forEach(e=>{e[0]===t&&(e[1]=!1)}),s([...a])},z=e=>{c.screen=!0,c.onClick=()=>{M(e)},d({...c})},M=e=>{e&&e(),c.screen=!1,c.blur=!1,c.shade=!1,d({...c})},F=e=>{c.screen=!1,c.shade=!0,c.blur=!0,c.onClick=()=>{u.display=!1,p({...u}),M()},u.display=!0,u.type="alert",u.data={text:e,onOK:()=>{c.onClick()}},d({...c}),p({...u})},T=async e=>{try{return console.log(JSON.stringify({type:"save",data:e})),await fetch("http://localhost:2048/ongue",{method:"post",body:JSON.stringify({type:"save",data:e}),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(()=>{F("suzr")})}catch(e){console.log(e);return}},A=async()=>{try{return await fetch("http://localhost:2048/ongue",{method:"post",body:JSON.stringify({type:"get"}),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e.data)}catch(e){console.log(e);return}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(m,{shade:c.shade,blur:c.blur,screen:c.screen,onClick:c.onClick,children:[(0,t.jsxs)(n,{className:"w-all jc-bet ai-cen pad-t pad-b bgc-28 h-4 "+S,children:[(0,t.jsxs)(n,{className:"mar-l ai-cen",children:[(0,t.jsx)(r,{className:"-dark bor-rad mar-r "+S,onClick:()=>{""===k?C("play"):C("")},children:"xont"}),(0,t.jsx)("div",{children:"zonur uc"})]}),(0,t.jsx)(y,{setFilter:f,font:k}),(0,t.jsxs)(n,{className:"mar-r",children:[(0,t.jsx)(r,{className:"-dark bor-rad mar-r "+S,onClick:async()=>{0===a.length?(s(await A()),F("suzr")):F("nug, uzr nıgır su")},children:"uzr nıgır"}),(0,t.jsx)(r,{className:"-grey bor-rad "+S,onClick:()=>T(a),children:"suvor"})]})]}),(0,t.jsx)(n,{className:"w-all jc-cen pad-t "+S,style:{height:"calc(100vh - 40px)",overflow:"auto",overflowX:"hidden"},children:w.map((e,a)=>(0,t.jsx)(n,{className:"w-28 h-fit mar-r select col",style:{paddingBottom:"30vh"},children:e.data.map(e=>(0,t.jsx)(o,{isSelected:e[1],word:e[2],definition:e[3],pronunciation:e[4],example:e[5],group:e[6],onContextMenu:s=>_(s,a,e),toggleGroupFilter:()=>v(e[6])},e[0]))},a))})]}),l.display&&(0,t.jsx)(h,{data:l.data,pos:l.pos,font:k}),u.display&&(0,t.jsx)(g,{type:u.type,data:u.data,font:k})]})};var w=b},6307:function(e){e.exports={choice:"Over_choice__LdsIL"}},8536:function(e){e.exports={shade:"Shade_shade__mpV7f",screen:"Shade_screen__IGBY9",blur:"Shade_blur__5Rufy"}},1219:function(e){e.exports={nabla:"Entry_nabla__RZVTB"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);